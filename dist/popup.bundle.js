!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));const o=async()=>(await fetch("https://api.clubhouse.io/api/v3/projects?token="+API_TOKEN,{headers:{"Content-Type":"application/json"}})).json(),s=async e=>(await fetch(`https://api.clubhouse.io/api/v3/projects/${e}/stories?token=${API_TOKEN}`,{headers:{"Content-Type":"application/json"}})).json(),i=async e=>(await fetch("https://api.clubhouse.io/api/v3/member?token="+e,{headers:{"Content-Type":"application/json"}})).json()},,function(e,t,n){"use strict";n.r(t);var o=n(0),s=localStorage.getItem("api_token");const i=document.getElementById("myStoriesTab"),c=document.getElementById("allStoriesTab"),r=document.getElementById("battleLogTab"),a=document.getElementById("myStories"),d=document.getElementById("allStories"),l=document.getElementById("battleLog");function p(e){for(var t=document.getElementsByClassName("selected");t.length>0;)t[0].classList.remove("selected");switch(e){case 0:i.classList.add("selected"),a.classList.add("selected");break;case 1:c.classList.add("selected"),d.classList.add("selected");break;case 2:r.classList.add("selected"),l.classList.add("selected")}}function m(){var e=[],t=0,n=0;Object(o.c)().then(s=>{s.map(s=>{const i=s.id;Object(o.b)(i).then(o=>{o.map(o=>{const s=o.id;o.estimate&&(o.completed&&(n+=o.estimate),t+=o.estimate,e.push({storyID:s,points:o.estimate}));var i=0;Object.values(e).map(e=>{i+=e.points}),document.getElementById("story").textContent="Damage Done: "+n+" Total Health: "+t+" Total Health: "+i})})})})}i.addEventListener("click",()=>p(0)),c.addEventListener("click",()=>p(1)),r.addEventListener("click",()=>p(2)),window.onload=()=>{document.getElementById("sumButton").addEventListener("click",m,!1)},document.addEventListener("DOMContentLoaded",()=>{document.querySelector("button").addEventListener("click",(function(){const e=document.getElementById("inspectProj"),t=document.getElementById("projDetails"),n=document.getElementById("inspectStories"),o=document.getElementById("storyDetails");e&&e.remove(),t&&t.remove(),n&&n.remove(),o&&o.remove(),fetch("https://api.clubhouse.io/api/v3/members?token="+s,{headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{const t={};e.map(e=>{t[e.id]=e}),fetch("https://api.clubhouse.io/api/v3/projects?token="+s,{headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{const n=e[0];console.log("Inspecting project "+n.id),console.log("\tProject ID: "+n.id),console.log("\tDescription: "+n.description),console.log("\t# of stories in project: "+n.stats.num_stories),console.log("\t# of story points in project: "+n.stats.num_points);const o=document.createElement("h3");o.setAttribute("id","inspectProj"),o.innerHTML="Inspecting project "+n.id;const i=document.createElement("p");var c;i.setAttribute("id","projDetails"),i.innerHTML=`&emsp;Project ID: ${n.id}<br />&emsp;Description: ${n.description}<br />&emsp;# of stories in project: ${n.stats.num_stories}<br />&emsp;# of story points in project: `+n.stats.num_points,document.body.appendChild(o),document.body.appendChild(i),(c=n.id,fetch(`https://api.clubhouse.io/api/v3/projects/${c}/stories?token=${s}`,{headers:{"Content-Type":"application/json"}})).then(e=>e.json()).then(e=>{console.log("Inspecting the stories in project "+n.id);const o=document.createElement("h3");o.setAttribute("id","inspectStories"),o.innerHTML="Inspecting the stories in project "+n.id,document.body.appendChild(o);const s=document.createElement("p");s.setAttribute("id","storyDetails"),e.map(e=>{const n=e.owner_ids.map(e=>t[e].profile.name);console.log("\tInspecting story "+e.id),console.log("\t\tStory ID: "+e.id),console.log("\t\tName: "+e.name),console.log("\t\tCompleted: "+e.completed),console.log("\t\tEstimate (# points): "+e.estimate),console.log("\t\tDeadline: "+e.deadline),console.log("\t\tAssigned to: "+n),s.innerHTML+=`<h4>&emsp;Inspecting story ${e.id}</h4>&emsp;&emsp;Story ID: ${e.id}<br />&emsp;&emsp;Name: ${e.name}<br />&emsp;&emsp;Completed: ${e.completed}<br />&emsp;&emsp;Estimate (# points): ${e.estimate}<br />&emsp;&emsp;Deadline: ${e.deadline}<br />&emsp;&emsp;Assigned to: `+n}),document.body.appendChild(s)})})})}),!1)},!1)}]);